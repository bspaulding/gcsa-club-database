<div align="right"><%= link_to "Logout", '/login/logout' %></div>
<h1>GCSA Groups</h1>

<select name="group_type" id="group_type_select">
<%= options_for_select(["Cabinets", "Clubs", "Councils", "Publications"], "Cabinets") %>
</select>

<%= link_to 'New Group', new_group_path %>

<%= observe_field 'group_type_select', :url => {:action => 'update_groups_list'},
		:update => { :success => 'groups_list', :failure => '/login/index' },
		:with => 'group_type' %>

<div id="groups">
	<div id="groups_list">
		<ul>
		<% unless @groups.size == 0 %>
			<% @groups.each do |group| %>
			<li><%= link_to_remote group.name, :update => "group_detail", :url => {:action => 'update_group_detail', :id => group.id} %></li>
			<% end %>
		<% end %>
		</ul>
	</div>
	<div id="group_detail">
		<% unless @groups.size == 0 %>
			<% first_group = @groups.first %>
			<h3><%= first_group.name %></h3>
			<p><b>Leader(s):</b> <%= (first_group.leader_name.nil?) ? "None" : first_group.leader_name %>
			<p><b>Description</b><br/>
			<%= first_group.description %></p>
		<% end %>
	</div>
</div>